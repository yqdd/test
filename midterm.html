<!doctype html>
<html lang="zh-CN">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>期中作业：ESP32-C3 小车 - 详细记录</title>
  <link rel="stylesheet" href="css/style.css" />
</head>
<body>
  <header class="detail-header">
    <a class="link-back" id="back-home">← 返回主页</a>
    <h1>期中作业：基于 ESP32-C3 的小车</h1>
    <p class="subtitle">机械粘接 + 舵机转向 + AT8236 驱动 + 局域网 Web 控制</p>
  </header>

  <main class="container detail">
    <section class="section" data-section="overview">
      <h2>概述</h2>
      <p>这是一次基于 ESP32-C3 的小车项目，机身结构采用 502 胶水固定。前半段用一个舵机粘接两个 130 电机作为轮子主体（不需要驱动，只起转向支撑作用），后半段使用 AT8236 驱动 130 电机并加装一个变速箱作为驱动单元。控制采用局域网 HTTP 请求的方式，由手机端发起对 ESP32 的 /move /turn_left /turn_right 等请求，ESP32 根据请求设置对应 GPIO 电平来驱动电机或舵机。</p>
      <button class="toggle-btn" data-target="overview">折叠/展开</button>
      <button class="copy-btn" data-target="overview">复制本节</button>
    </section>

    <section class="section" data-section="hardware">
      <h2>硬件</h2>
      <ul>
        <li>主控：ESP32-C3</li>
        <li>驱动：AT8236 驱动芯片（驱动 130 型直流电机）</li>
        <li>电机：130 型电机（若干，两个用于前轮结构，两个用于驱动）</li>
        <li>舵机：一个用于转向结构</li>
        <li>减速箱：用于驱动电机输出稳定扭矩</li>
        <li>结构：整体用 502 胶水进行粘接固定</li>
      </ul>
      <button class="toggle-btn" data-target="hardware">折叠/展开</button>
      <button class="copy-btn" data-target="hardware">复制本节</button>
    </section>

    <section class="section" data-section="mechanics">
      <h2>机械与电气结构</h2>
      <p>前半段：舵机上粘接两个 130 电机作为车头承重和方向基点（这两个电机不通电驱动，仅作为轮子和支点）。后半段：两个 130 电机通过 AT8236 驱动并连接减速箱，作为驱动输出。</p>
      <p>机身粘接依靠 502 胶水，结构简单但便于快速实现与调试。</p>
      <button class="toggle-btn" data-target="mechanics">折叠/展开</button>
      <button class="copy-btn" data-target="mechanics">复制本节</button>
    </section>

    <section class="section" data-section="software">
      <h2>软件</h2>
      <h3>ESP32 端</h3>
      <p>在局域网内 ESP32 开启一个简单的 Web Server，监听如：</p>
      <ul>
        <li><code>/move</code> —— 前进/后退（可带参数）</li>
        <li><code>/turn_left</code> —— 左转</li>
        <li><code>/turn_right</code> —— 右转</li>
      </ul>
      <p>ESP32 收到请求后通过设置对应 GPIO 引脚电平来控制 AT8236 驱动或舵机 PWM。</p>

      <h3>手机端</h3>
      <p>使用 Android SDK 编写控制界面，界面有前进、左转、右转按钮，按下时向局域网内 ESP32 的 IP 地址发送 HTTP 请求，例如：</p>
      <pre><code>http://(esp32_ip)/move</code></pre>

      <button class="toggle-btn" data-target="software">折叠/展开</button>
      <button class="copy-btn" data-target="software">复制本节</button>
    </section>

    <section class="section" data-section="issues">
      <h2>问题与改进</h2>
      <ul>
        <li>结构用胶水粘接方便但可维护性差，后续可以用铆接或 3D 打印件替代以便拆装。</li>
        <li>前轮使用不驱动电机作为轮子虽然简单，但会造成滚动阻力和不稳定，应考虑使用自由轮或轴承。</li>
        <li>网络控制延迟与丢包需要考虑容错（重试、心跳、状态查询）。</li>
      </ul>
      <button class="toggle-btn" data-target="issues">折叠/展开</button>
      <button class="copy-btn" data-target="issues">复制本节</button>
    </section>

    <section class="section" data-section="summary">
      <h2>总结</h2>
      <p>本项目快速实现了一个可以通过手机在局域网内控制的简单小车，适合作为嵌入式网络控制入门实践。硬件结构简洁，软件逻辑清晰，是一次完整的软硬结合练习。</p>
      <button class="toggle-btn" data-target="summary">折叠/展开</button>
      <button class="copy-btn" data-target="summary">复制本节</button>
    </section>
  </main>

  <footer class="site-footer">
    <small>作者：yqdd · 记录日期：2026-01-11</small>
  </footer>

  <script src="js/midterm.js"></script>
  <script src="js/main.js"></script>
</body>
</html>